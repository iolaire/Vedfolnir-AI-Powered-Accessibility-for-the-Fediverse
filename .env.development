# Copyright (C) 2025 iolaire mcfadden.
# This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

# Development Environment Configuration for Docker Compose

# Application Environment
FLASK_ENV=development
FLASK_DEBUG=true
LOG_LEVEL=DEBUG
TESTING=false

# Database Configuration (Development)
DATABASE_URL=mysql+pymysql://vedfolnir:dev_password@mysql:3306/vedfolnir_dev?charset=utf8mb4
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Redis Configuration (Development)
REDIS_URL=redis://redis:6379/1
REDIS_SESSION_PREFIX=vedfolnir:dev:session:
REDIS_SESSION_TIMEOUT=7200
REDIS_QUEUE_PREFIX=vedfolnir:dev:queue:

# External Services
OLLAMA_URL=http://host.docker.internal:11434
OLLAMA_MODEL=llava:7b
OLLAMA_TIMEOUT=300

# Security Settings (Relaxed for Development)
SECURITY_CSRF_ENABLED=true
SECURITY_RATE_LIMITING_ENABLED=false
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# Development Features
HOT_RELOAD=true
AUTO_RELOAD=true
PROFILING_ENABLED=true
ENABLE_DEBUGGER=true
REMOTE_DEBUGGING=true

# Debugging Configuration
DEBUGPY_ENABLED=true
DEBUGPY_PORT=5678
DEBUGPY_WAIT_FOR_CLIENT=false

# RQ Configuration (Development)
RQ_ENABLE_INTEGRATED_WORKERS=false
RQ_ENABLE_EXTERNAL_WORKERS=true
RQ_WORKER_COUNT=2
RQ_QUEUE_NAMES=default,high,low

# Email Configuration (Development - MailHog)
MAIL_SERVER=mailhog
MAIL_PORT=1025
MAIL_USE_TLS=false
MAIL_USE_SSL=false
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_DEFAULT_SENDER=dev@vedfolnir.local

# Logging Configuration
ENABLE_JSON_LOGGING=false
LOG_TO_STDOUT=true
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/app/logs/app/vedfolnir_dev.log
LOG_ROTATION_SIZE=10MB
LOG_RETENTION_DAYS=7

# Performance Monitoring (Development)
PERFORMANCE_MONITORING_ENABLED=true
METRICS_ENABLED=true
PROMETHEUS_ENABLED=false

# File Upload Configuration
MAX_CONTENT_LENGTH=100MB
UPLOAD_FOLDER=/app/storage/temp
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,webp

# Caption Generation
CAPTION_MAX_LENGTH=500
CAPTION_OPTIMAL_MIN_LENGTH=150
CAPTION_OPTIMAL_MAX_LENGTH=450
USE_ENHANCED_CLASSIFICATION=true
CLASSIFICATION_CONFIDENCE_THRESHOLD=0.7

# Development Database Passwords (Not for production!)
MYSQL_ROOT_PASSWORD=dev_root_password
MYSQL_PASSWORD=dev_password
REDIS_PASSWORD=

# Container Configuration
CONTAINER_ENV=true
PYTHONPATH=/app
PYTHONDONTWRITEBYTECODE=1
PYTHONUNBUFFERED=1

# Resource Limits (Development)
MEMORY_LIMIT=4g
CPU_LIMIT=4
WORKER_MEMORY_LIMIT=1g

# Development URLs
BASE_URL=http://localhost:5000
ADMIN_URL=http://localhost:5000/admin
API_BASE_URL=http://localhost:5000/api

# Development Tools
PHPMYADMIN_URL=http://localhost:8080
REDIS_COMMANDER_URL=http://localhost:8081
MAILHOG_URL=http://localhost:8025