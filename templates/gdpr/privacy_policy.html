<!-- Copyright (C) 2025 iolaire mcfadden. -->
<!-- This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. -->
<!-- THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. -->

{% extends "base.html" %}

{% block title %}Privacy Policy - Vedfolnir{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card">
                <div class="card-header">
                    <h2 class="mb-0">
                        <i class="fas fa-shield-alt me-2"></i>
                        Privacy Policy
                    </h2>
                    <small class="text-muted">Last updated: August 2025</small>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        This privacy policy explains how Vedfolnir collects, uses, and protects your personal data in compliance with the General Data Protection Regulation (GDPR) and other applicable privacy laws.
                    </div>

                    <div class="row">
                        <div class="col-md-3">
                            <div class="nav flex-column nav-pills" id="privacy-tabs" role="tablist" aria-orientation="vertical">
                                <button class="nav-link active" id="overview-tab" data-bs-toggle="pill" data-bs-target="#overview" type="button" role="tab">Overview</button>
                                <button class="nav-link" id="data-collection-tab" data-bs-toggle="pill" data-bs-target="#data-collection" type="button" role="tab">Data Collection</button>
                                <button class="nav-link" id="data-use-tab" data-bs-toggle="pill" data-bs-target="#data-use" type="button" role="tab">How We Use Data</button>
                                <button class="nav-link" id="data-sharing-tab" data-bs-toggle="pill" data-bs-target="#data-sharing" type="button" role="tab">Data Sharing</button>
                                <button class="nav-link" id="your-rights-tab" data-bs-toggle="pill" data-bs-target="#your-rights" type="button" role="tab">Your Rights</button>
                                <button class="nav-link" id="security-tab" data-bs-toggle="pill" data-bs-target="#security" type="button" role="tab">Security</button>
                                <button class="nav-link" id="retention-tab" data-bs-toggle="pill" data-bs-target="#retention" type="button" role="tab">Data Retention</button>
                                <button class="nav-link" id="contact-tab" data-bs-toggle="pill" data-bs-target="#contact" type="button" role="tab">Contact Us</button>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <div class="tab-content" id="privacy-content">
                                <!-- Overview Tab -->
                                <div class="tab-pane fade show active" id="overview" role="tabpanel">
                                    <h4>Overview</h4>
                                    <p>Vedfolnir is an accessibility tool that helps make social media content more accessible by generating and managing alt text for images. We are committed to protecting your privacy and being transparent about how we handle your personal data.</p>
                                    
                                    <h5>Data Controller</h5>
                                    <p><strong>Vedfolnir Application</strong><br>
                                    We are the data controller responsible for your personal data.</p>
                                    
                                    <h5>Legal Basis for Processing</h5>
                                    <ul>
                                        <li><strong>Consent (Article 6(1)(a)):</strong> For most data processing activities</li>
                                        <li><strong>Contract (Article 6(1)(b)):</strong> To provide our services</li>
                                        <li><strong>Legitimate Interest (Article 6(1)(f)):</strong> For security and system improvement</li>
                                    </ul>
                                </div>

                                <!-- Data Collection Tab -->
                                <div class="tab-pane fade" id="data-collection" role="tabpanel">
                                    <h4>What Data We Collect</h4>
                                    
                                    <h5>Personal Information</h5>
                                    <ul>
                                        <li>Username and email address</li>
                                        <li>First and last name (optional)</li>
                                        <li>Password (encrypted)</li>
                                        <li>Account preferences and settings</li>
                                    </ul>
                                    
                                    <h5>Platform Connection Data</h5>
                                    <ul>
                                        <li>Social media platform usernames</li>
                                        <li>Platform instance URLs</li>
                                        <li>Access tokens (encrypted)</li>
                                        <li>Connection settings and preferences</li>
                                    </ul>
                                    
                                    <h5>Content Data</h5>
                                    <ul>
                                        <li>Posts and images from connected platforms</li>
                                        <li>Generated image captions</li>
                                        <li>Caption reviews and edits</li>
                                        <li>Processing history and metadata</li>
                                    </ul>
                                    
                                    <h5>Technical Data</h5>
                                    <ul>
                                        <li>IP addresses and browser information</li>
                                        <li>Session data and login history</li>
                                        <li>System logs and error reports</li>
                                        <li>Usage analytics and performance data</li>
                                    </ul>
                                </div>

                                <!-- Data Use Tab -->
                                <div class="tab-pane fade" id="data-use" role="tabpanel">
                                    <h4>How We Use Your Data</h4>
                                    
                                    <h5>Service Provision</h5>
                                    <ul>
                                        <li>User authentication and account management</li>
                                        <li>Connecting to your social media platforms</li>
                                        <li>Generating captions for your images</li>
                                        <li>Posting approved captions to your accounts</li>
                                    </ul>
                                    
                                    <h5>Service Improvement</h5>
                                    <ul>
                                        <li>Analyzing usage patterns to improve functionality</li>
                                        <li>Developing new features and capabilities</li>
                                        <li>Optimizing system performance</li>
                                        <li>Conducting research on accessibility improvements</li>
                                    </ul>
                                    
                                    <h5>Security and Compliance</h5>
                                    <ul>
                                        <li>Protecting against fraud and abuse</li>
                                        <li>Monitoring system security</li>
                                        <li>Maintaining audit trails</li>
                                        <li>Complying with legal obligations</li>
                                    </ul>
                                    
                                    <h5>Communication</h5>
                                    <ul>
                                        <li>Sending account-related notifications</li>
                                        <li>Providing customer support</li>
                                        <li>Sharing important service updates</li>
                                        <li>Marketing communications (with consent)</li>
                                    </ul>
                                </div>

                                <!-- Data Sharing Tab -->
                                <div class="tab-pane fade" id="data-sharing" role="tabpanel">
                                    <h4>Data Sharing and Third Parties</h4>
                                    
                                    <h5>Connected Social Media Platforms</h5>
                                    <p>We share data with your connected social media platforms only as necessary to provide our services:</p>
                                    <ul>
                                        <li>Posting captions to your accounts</li>
                                        <li>Retrieving posts and images for processing</li>
                                        <li>Authenticating your platform connections</li>
                                    </ul>
                                    
                                    <h5>Service Providers</h5>
                                    <p>We may share data with trusted service providers who help us operate our service:</p>
                                    <ul>
                                        <li>Cloud hosting and infrastructure providers</li>
                                        <li>Email service providers</li>
                                        <li>Analytics and monitoring services</li>
                                        <li>Security and fraud prevention services</li>
                                    </ul>
                                    
                                    <h5>Legal Requirements</h5>
                                    <p>We may disclose your data if required by law or to:</p>
                                    <ul>
                                        <li>Comply with legal processes</li>
                                        <li>Protect our rights and property</li>
                                        <li>Ensure user safety</li>
                                        <li>Investigate potential violations</li>
                                    </ul>
                                    
                                    <div class="alert alert-success">
                                        <i class="fas fa-shield-alt me-2"></i>
                                        <strong>We never sell your personal data</strong> to third parties for marketing or advertising purposes.
                                    </div>
                                </div>

                                <!-- Your Rights Tab -->
                                <div class="tab-pane fade" id="your-rights" role="tabpanel">
                                    <h4>Your Privacy Rights</h4>
                                    <p>Under GDPR and other privacy laws, you have the following rights:</p>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-eye me-2"></i>Right to Access (Article 15)</h6>
                                            <p class="small">Request access to your personal data and information about how it's processed.</p>
                                            <a href="{{ url_for('gdpr.data_export') }}" class="btn btn-sm btn-outline-primary">Export Data</a>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-edit me-2"></i>Right to Rectification (Article 16)</h6>
                                            <p class="small">Correct inaccurate or incomplete personal data.</p>
                                            <a href="{{ url_for('gdpr.data_rectification') }}" class="btn btn-sm btn-outline-primary">Correct Data</a>
                                        </div>
                                    </div>
                                    
                                    <div class="row mt-3">
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-trash me-2"></i>Right to Erasure (Article 17)</h6>
                                            <p class="small">Request deletion of your personal data under certain circumstances.</p>
                                            <a href="{{ url_for('gdpr.data_erasure') }}" class="btn btn-sm btn-outline-danger">Delete Data</a>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-pause me-2"></i>Right to Restrict Processing (Article 18)</h6>
                                            <p class="small">Limit how we process your data under certain circumstances.</p>
                                            <a href="{{ url_for('gdpr.privacy_request') }}" class="btn btn-sm btn-outline-primary">Request Restriction</a>
                                        </div>
                                    </div>
                                    
                                    <div class="row mt-3">
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-download me-2"></i>Right to Data Portability (Article 20)</h6>
                                            <p class="small">Receive your data in a portable format or transfer it to another service.</p>
                                            <a href="{{ url_for('gdpr.data_portability') }}" class="btn btn-sm btn-outline-primary">Port Data</a>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-hand-paper me-2"></i>Right to Object (Article 21)</h6>
                                            <p class="small">Object to certain types of data processing.</p>
                                            <a href="{{ url_for('gdpr.privacy_request') }}" class="btn btn-sm btn-outline-primary">Object to Processing</a>
                                        </div>
                                    </div>
                                    
                                    <div class="row mt-3">
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-times-circle me-2"></i>Right to Withdraw Consent (Article 7(3))</h6>
                                            <p class="small">Withdraw your consent for data processing at any time.</p>
                                            <a href="{{ url_for('gdpr.consent_management') }}" class="btn btn-sm btn-outline-primary">Manage Consent</a>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-balance-scale me-2"></i>Right to Lodge a Complaint</h6>
                                            <p class="small">File a complaint with your local data protection authority.</p>
                                            <a href="{{ url_for('gdpr.privacy_request') }}" class="btn btn-sm btn-outline-primary">File Complaint</a>
                                        </div>
                                    </div>
                                </div>

                                <!-- Security Tab -->
                                <div class="tab-pane fade" id="security" role="tabpanel">
                                    <h4>Data Security</h4>
                                    <p>We implement appropriate technical and organizational measures to protect your personal data:</p>
                                    
                                    <h5>Technical Measures</h5>
                                    <ul>
                                        <li><strong>Encryption:</strong> Data encrypted in transit and at rest</li>
                                        <li><strong>Access Controls:</strong> Role-based access to personal data</li>
                                        <li><strong>Authentication:</strong> Strong password requirements and secure sessions</li>
                                        <li><strong>Monitoring:</strong> Continuous security monitoring and logging</li>
                                    </ul>
                                    
                                    <h5>Organizational Measures</h5>
                                    <ul>
                                        <li><strong>Privacy by Design:</strong> Privacy considerations built into system design</li>
                                        <li><strong>Data Minimization:</strong> Collect only necessary data</li>
                                        <li><strong>Regular Audits:</strong> Periodic security and privacy assessments</li>
                                        <li><strong>Incident Response:</strong> Procedures for handling security breaches</li>
                                    </ul>
                                    
                                    <div class="alert alert-info">
                                        <i class="fas fa-info-circle me-2"></i>
                                        While we implement strong security measures, no system is 100% secure. We will notify you of any data breaches as required by law.
                                    </div>
                                </div>

                                <!-- Data Retention Tab -->
                                <div class="tab-pane fade" id="retention" role="tabpanel">
                                    <h4>Data Retention</h4>
                                    <p>We retain your personal data only as long as necessary for the purposes outlined in this policy:</p>
                                    
                                    <div class="table-responsive">
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th>Data Type</th>
                                                    <th>Retention Period</th>
                                                    <th>Reason</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Account Data</td>
                                                    <td>Until account deletion</td>
                                                    <td>Service provision</td>
                                                </tr>
                                                <tr>
                                                    <td>Platform Connections</td>
                                                    <td>Until disconnected or account deleted</td>
                                                    <td>Service functionality</td>
                                                </tr>
                                                <tr>
                                                    <td>Content Data</td>
                                                    <td>Until account deletion</td>
                                                    <td>Service provision and improvement</td>
                                                </tr>
                                                <tr>
                                                    <td>Session Data</td>
                                                    <td>30 days or until logout</td>
                                                    <td>Security and functionality</td>
                                                </tr>
                                                <tr>
                                                    <td>Audit Logs</td>
                                                    <td>7 years</td>
                                                    <td>Security and compliance</td>
                                                </tr>
                                                <tr>
                                                    <td>Temporary Files</td>
                                                    <td>24 hours</td>
                                                    <td>Processing efficiency</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    
                                    <div class="alert alert-warning">
                                        <i class="fas fa-clock me-2"></i>
                                        <strong>Account Deletion:</strong> When you delete your account, we will remove your personal data within 30 days, except for data we are legally required to retain.
                                    </div>
                                </div>

                                <!-- Contact Tab -->
                                <div class="tab-pane fade" id="contact" role="tabpanel">
                                    <h4>Contact Information</h4>
                                    <p>If you have questions about this privacy policy or want to exercise your rights, please contact us:</p>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h5>Privacy Requests</h5>
                                            <p>For data subject rights requests:</p>
                                            <a href="{{ url_for('gdpr.privacy_request') }}" class="btn btn-primary">
                                                <i class="fas fa-envelope me-2"></i>Submit Privacy Request
                                            </a>
                                        </div>
                                        <div class="col-md-6">
                                            <h5>General Inquiries</h5>
                                            <p>For general privacy questions:</p>
                                            <p><strong>Email:</strong> privacy@vedfolnir.com<br>
                                            <strong>Response Time:</strong> 30 days maximum</p>
                                        </div>
                                    </div>
                                    
                                    <h5>Supervisory Authority</h5>
                                    <p>You have the right to lodge a complaint with your local data protection authority if you believe we have not handled your personal data properly.</p>
                                    
                                    <h5>Policy Updates</h5>
                                    <p>We may update this privacy policy from time to time. We will notify you of significant changes by:</p>
                                    <ul>
                                        <li>Email notification to registered users</li>
                                        <li>Notice on our website</li>
                                        <li>In-app notification</li>
                                    </ul>
                                    
                                    <div class="alert alert-info">
                                        <i class="fas fa-calendar me-2"></i>
                                        <strong>Last Updated:</strong> August 2025<br>
                                        <strong>Effective Date:</strong> August 2025
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Smooth scrolling for internal links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
});
</script>
{% endblock %}