/* Copyright (C) 2025 iolaire mcfadden. */
/* This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. */
/* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. */

/**
 * Notification UI Styles - Unified Notification System
 * 
 * Provides consistent styling for notifications across all pages
 * Supports multiple themes, positions, and notification types
 * 
 * Requirements: 5.1, 5.2, 5.3, 5.4, 5.5
 */

/* CSS Custom Properties for Notification System */
:root {
    /* Notification Colors */
    --notification-success-color: #059669;
    --notification-success-bg: #ecfdf5;
    --notification-success-border: #a7f3d0;
    
    --notification-warning-color: #d97706;
    --notification-warning-bg: #fffbeb;
    --notification-warning-border: #fde68a;
    
    --notification-error-color: #dc2626;
    --notification-error-bg: #fef2f2;
    --notification-error-border: #fecaca;
    
    --notification-info-color: #0891b2;
    --notification-info-bg: #f0f9ff;
    --notification-info-border: #7dd3fc;
    
    --notification-progress-color: #7c3aed;
    --notification-progress-bg: #f5f3ff;
    --notification-progress-border: #c4b5fd;
    
    /* Notification Layout */
    --notification-width: 400px;
    --notification-max-width: 90vw;
    --notification-padding: 1rem;
    --notification-margin: 0.5rem;
    --notification-border-radius: 0.75rem;
    --notification-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
    --notification-shadow-hover: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    
    /* Animation */
    --notification-animation-duration: 300ms;
    --notification-animation-easing: cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Typography */
    --notification-font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --notification-title-size: 0.875rem;
    --notification-message-size: 0.875rem;
    --notification-timestamp-size: 0.75rem;
    
    /* Z-index */
    --notification-z-index: 1050;
}

/* Screen Reader Only */
.sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
}

/* Notification Container */
.notification-container {
    position: fixed;
    z-index: var(--notification-z-index);
    pointer-events: none;
    font-family: var(--notification-font-family);
}

/* Container Positioning */
.notification-position-top {
    top: 1rem;
}

.notification-position-bottom {
    bottom: 1rem;
}

.notification-position-left {
    left: 1rem;
}

.notification-position-right {
    right: 1rem;
}

.notification-position-center {
    left: 50%;
    transform: translateX(-50%);
}

/* Stack Direction */
.notification-stack-down {
    display: flex;
    flex-direction: column;
    gap: var(--notification-margin);
}

.notification-stack-up {
    display: flex;
    flex-direction: column-reverse;
    gap: var(--notification-margin);
}

/* Base Notification Styles */
.notification {
    width: var(--notification-width);
    max-width: var(--notification-max-width);
    background: white;
    border-radius: var(--notification-border-radius);
    box-shadow: var(--notification-shadow);
    border: 1px solid #e5e7eb;
    pointer-events: auto;
    transition: all var(--notification-animation-duration) var(--notification-animation-easing);
    position: relative;
    overflow: hidden;
}

.notification:hover {
    box-shadow: var(--notification-shadow-hover);
    transform: translateY(-2px);
}

/* Notification Content Layout */
.notification-content {
    display: flex;
    align-items: flex-start;
    padding: var(--notification-padding);
    gap: 0.75rem;
    position: relative;
}

.notification-icon {
    flex-shrink: 0;
    width: 1.25rem;
    height: 1.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: 0.125rem;
}

.notification-body {
    flex: 1;
    min-width: 0;
}

.notification-title {
    font-weight: 600;
    font-size: var(--notification-title-size);
    line-height: 1.25;
    margin-bottom: 0.25rem;
    color: #111827;
}

.notification-message {
    font-size: var(--notification-message-size);
    line-height: 1.4;
    color: #374151;
    word-wrap: break-word;
}

.notification-timestamp {
    font-size: var(--notification-timestamp-size);
    color: #6b7280;
    margin-top: 0.25rem;
}

.notification-dismiss {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    background: none;
    border: none;
    color: #6b7280;
    cursor: pointer;
    padding: 0.25rem;
    border-radius: 0.25rem;
    transition: all 0.15s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5rem;
    height: 1.5rem;
}

.notification-dismiss:hover {
    background-color: #f3f4f6;
    color: #374151;
}

.notification-dismiss:focus {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
}

/* Progress Bar */
.notification-progress {
    margin-top: 0.75rem;
}

.notification-progress-bar {
    width: 100%;
    height: 0.5rem;
    background-color: #e5e7eb;
    border-radius: 0.25rem;
    overflow: hidden;
}

.notification-progress-fill {
    height: 100%;
    background-color: currentColor;
    border-radius: 0.25rem;
    transition: width 0.3s ease;
}

.notification-progress-label {
    font-size: 0.75rem;
    color: #6b7280;
    margin-top: 0.25rem;
    text-align: center;
}

/* Actions */
.notification-actions {
    padding: 0 var(--notification-padding) var(--notification-padding);
    display: flex;
    gap: 0.5rem;
    justify-content: flex-end;
}

.notification-action {
    padding: 0.375rem 0.75rem;
    border-radius: 0.375rem;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s ease;
    border: 1px solid transparent;
}

.notification-action-default {
    background-color: #f3f4f6;
    color: #374151;
    border-color: #d1d5db;
}

.notification-action-default:hover {
    background-color: #e5e7eb;
}

.notification-action-primary {
    background-color: #3b82f6;
    color: white;
}

.notification-action-primary:hover {
    background-color: #2563eb;
}

.notification-action-danger {
    background-color: #ef4444;
    color: white;
}

.notification-action-danger:hover {
    background-color: #dc2626;
}

/* Notification Types */

/* Success Notifications */
.notification-success {
    border-left: 4px solid var(--notification-success-color);
    background-color: var(--notification-success-bg);
}

.notification-success .notification-icon {
    color: var(--notification-success-color);
}

.notification-success .notification-progress-fill {
    background-color: var(--notification-success-color);
}

/* Warning Notifications */
.notification-warning {
    border-left: 4px solid var(--notification-warning-color);
    background-color: var(--notification-warning-bg);
}

.notification-warning .notification-icon {
    color: var(--notification-warning-color);
}

.notification-warning .notification-progress-fill {
    background-color: var(--notification-warning-color);
}

/* Error Notifications */
.notification-error {
    border-left: 4px solid var(--notification-error-color);
    background-color: var(--notification-error-bg);
}

.notification-error .notification-icon {
    color: var(--notification-error-color);
}

.notification-error .notification-progress-fill {
    background-color: var(--notification-error-color);
}

/* Info Notifications */
.notification-info {
    border-left: 4px solid var(--notification-info-color);
    background-color: var(--notification-info-bg);
}

.notification-info .notification-icon {
    color: var(--notification-info-color);
}

.notification-info .notification-progress-fill {
    background-color: var(--notification-info-color);
}

/* Progress Notifications */
.notification-progress {
    border-left: 4px solid var(--notification-progress-color);
    background-color: var(--notification-progress-bg);
}

.notification-progress .notification-icon {
    color: var(--notification-progress-color);
    animation: spin 1s linear infinite;
}

.notification-progress .notification-progress-fill {
    background-color: var(--notification-progress-color);
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

/* Priority Levels */
.notification-priority-critical {
    border-width: 2px;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04), 0 0 0 1px rgba(239, 68, 68, 0.1);
}

.notification-priority-high {
    border-width: 1.5px;
}

.notification-priority-normal {
    border-width: 1px;
}

.notification-priority-low {
    opacity: 0.9;
}

/* Persistent Notifications */
.notification-persistent {
    border-style: double;
}

.notification-persistent .notification-dismiss {
    display: none;
}

/* Theme Variations */

/* Modern Theme (Default) */
.notification-theme-modern {
    /* Already defined above */
}

/* Classic Theme */
.notification-theme-classic {
    border-radius: 0.5rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
}

.notification-theme-classic .notification-content {
    padding: 0.875rem;
}

/* Minimal Theme */
.notification-theme-minimal {
    border-radius: 0.25rem;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    border: none;
}

.notification-theme-minimal .notification-content {
    padding: 0.75rem;
}

.notification-theme-minimal .notification-icon {
    display: none;
}

/* Responsive Design */
@media (max-width: 640px) {
    :root {
        --notification-width: calc(100vw - 2rem);
        --notification-padding: 0.875rem;
        --notification-margin: 0.375rem;
    }
    
    .notification-container {
        left: 1rem !important;
        right: 1rem !important;
        transform: none !important;
    }
    
    .notification-position-center {
        left: 1rem;
        transform: none;
    }
    
    .notification-actions {
        flex-direction: column;
    }
    
    .notification-action {
        width: 100%;
        text-align: center;
    }
}

@media (max-width: 480px) {
    :root {
        --notification-width: calc(100vw - 1rem);
        --notification-padding: 0.75rem;
        --notification-title-size: 0.8125rem;
        --notification-message-size: 0.8125rem;
    }
    
    .notification-container {
        left: 0.5rem !important;
        right: 0.5rem !important;
    }
    
    .notification-position-center {
        left: 0.5rem;
    }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
    .notification {
        border-width: 2px;
    }
    
    .notification-success {
        border-color: var(--notification-success-color);
        background-color: white;
    }
    
    .notification-warning {
        border-color: var(--notification-warning-color);
        background-color: white;
    }
    
    .notification-error {
        border-color: var(--notification-error-color);
        background-color: white;
    }
    
    .notification-info {
        border-color: var(--notification-info-color);
        background-color: white;
    }
    
    .notification-progress {
        border-color: var(--notification-progress-color);
        background-color: white;
    }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    .notification {
        transition: none;
    }
    
    .notification-progress .notification-icon {
        animation: none;
    }
    
    .notification-progress-fill {
        transition: none;
    }
    
    .notification:hover {
        transform: none;
    }
}

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
    :root {
        --notification-success-bg: #064e3b;
        --notification-warning-bg: #78350f;
        --notification-error-bg: #7f1d1d;
        --notification-info-bg: #164e63;
        --notification-progress-bg: #581c87;
    }
    
    .notification {
        background-color: #1f2937;
        border-color: #374151;
        color: #f9fafb;
    }
    
    .notification-title {
        color: #f9fafb;
    }
    
    .notification-message {
        color: #d1d5db;
    }
    
    .notification-timestamp {
        color: #9ca3af;
    }
    
    .notification-dismiss {
        color: #9ca3af;
    }
    
    .notification-dismiss:hover {
        background-color: #374151;
        color: #d1d5db;
    }
    
    .notification-progress-bar {
        background-color: #374151;
    }
    
    .notification-action-default {
        background-color: #374151;
        color: #d1d5db;
        border-color: #4b5563;
    }
    
    .notification-action-default:hover {
        background-color: #4b5563;
    }
}

/* Print Styles */
@media print {
    .notification-container {
        display: none;
    }
}

/* Focus Management */
.notification:focus-within {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
}

/* Animation Classes for JavaScript */
.notification-enter {
    opacity: 0;
    transform: translateX(100%) scale(0.8);
}

.notification-enter-active {
    opacity: 1;
    transform: translateX(0) scale(1);
    transition: all var(--notification-animation-duration) var(--notification-animation-easing);
}

.notification-exit {
    opacity: 1;
    transform: translateX(0) scale(1);
}

.notification-exit-active {
    opacity: 0;
    transform: translateX(100%) scale(0.8);
    transition: all var(--notification-animation-duration) var(--notification-animation-easing);
}

/* Utility Classes */
.notification-no-icon .notification-icon {
    display: none;
}

.notification-no-dismiss .notification-dismiss {
    display: none;
}

.notification-compact .notification-content {
    padding: 0.5rem 0.75rem;
}

.notification-compact .notification-title {
    font-size: 0.8125rem;
}

.notification-compact .notification-message {
    font-size: 0.8125rem;
}

/* Accessibility Enhancements */
.notification[role="alert"] {
    /* Ensure alerts are announced immediately */
}

.notification[aria-live="assertive"] {
    /* Critical notifications */
}

.notification[aria-live="polite"] {
    /* Regular notifications */
}

/* Custom Scrollbar for Overflow */
.notification-message::-webkit-scrollbar {
    width: 4px;
}

.notification-message::-webkit-scrollbar-track {
    background: transparent;
}

.notification-message::-webkit-scrollbar-thumb {
    background: #d1d5db;
    border-radius: 2px;
}

.notification-message::-webkit-scrollbar-thumb:hover {
    background: #9ca3af;
}